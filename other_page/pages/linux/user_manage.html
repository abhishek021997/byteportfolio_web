<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Guide to Linux useradd and usermod commands with options and examples.">
    <title>Linux User Management</title>
    <link rel="stylesheet" href="../../../css/other_pg.css">
    <style>

    </style>
</head>
<body>
    <main>
    <h1>Linux User Management</h1>
    <p>This page provides a detailed guide on using the <code>useradd</code> and <code>usermod</code> commands in Linux for managing users.</p>
    <p>User related information save in <code>/etc/passwd</code></p>
    <p>Group related information save in <code>/etc/group</code></p>
    <p>User Password related information save in <code>/etc/shadow</code></p>
    <p>Group pasword related information save in <code>/etc/gshadow</code></p>
    <p>To view the contents of these files, you can use the <code>cat</code> command:</p>
    <div class="example">
        <p>View user information:</p>
        <pre><code>cat /etc/passwd</code></pre>
    </div>
    <p>User related information</p>
    <pre>
        1. User ID (UID)
        2. Group ID (GID)
        3. Default directory (/home/username)
        4. Default shell (/bin/bash)
        5. User information save (/etc/passwd)
        6. Group information save (/etc/group)
        7. User password information save (/etc/shadow)
        8. Group password information save (/etc/gshadow)
        9. User's full name
        10. User's home directory
        11. User's login shell
        12. User's password (x means password is stored in /etc/shadow)
        13. User's group (x means group is stored in /etc/gshadow)
    </pre>
    <p>User Default authentication structure</p>
    
    <pre>
        <code>cat /etc/login.defs</code>
        <code>cat /etc/default/useradd</code>
        The UID and GID ranges are defined in the <code>/etc/login.defs</code> file. The default range for UIDs is typically from 1000 to 60000, while GIDs can range from 1000 to 60000 as well.
        The <code>/etc/default/useradd</code> file may also contain settings for the minimum and maximum UID and GID values.
    </pre>
    <p>UID and GID range</p>
    <pre>
        1. UID range: 1000-60000
        2. GID range: 1000-60000
        3. UID and GID for system users: 0-999
        4. UID and GID for regular users: 1000-60000
        5. UID and GID for special users: 60001-99999
    </pre>

    <p>Passwd file entry structure</p>
    <pre>
        username:password:UID:GID:comment:home_directory:login_shell
        1. username: The name of the user.
        2. password: The password for the user (x means password is stored in /etc/shadow).
        3. UID: The user ID (a unique number assigned to the user).
        4. GID: The group ID (the primary group of the user).
        5. comment: Additional information about the user (e.g., full name).
        6. home_directory: The user's home directory.
        7. login_shell: The shell that the user will use when logging in.
    </pre>
    <p>Group file entry structure</p>
    <pre>
        groupname:password:GID:member1,member2,...
        1. groupname: The name of the group.
        2. password: The password for the group (x means password is stored in /etc/gshadow).
        3. GID: The group ID (a unique number assigned to the group).
        4. member1,member2,...: The members of the group (comma-separated list).
    </pre>



    <h2>1. <code>useradd</code> Command</h2>
    <p>The <code>useradd</code> command is used to create a new user in Linux.</p>
    <h3>Options</h3>
    <ul>
        <li><code>-c</code>: Add a comment (e.g., full name).</li>
        <li><code>-d</code>: Specify the user's home directory.</li>
        <li><code>-e</code>: Set the account expiration date.</li>
        <li><code>-g</code>: Specify the primary group.</li>
        <li><code>-G</code>: Specify additional groups.</li>
        <li><code>-m</code>: Create the home directory if it does not exist.</li>
        <li><code>-s</code>: Specify the login shell.</li>
        <li><code>-u</code>: Specify the user ID (UID).</li>
    </ul>
    <h3>Examples</h3>
    <div class="example">
        <p>Create a user with a home directory:</p>
        <pre><code>sudo useradd -m -d /home/abhishek -s /bin/bash abhishek</code></pre>
    </div>
    <div class="example">
        <p>Create a user with a specific UID and group:</p>
        <pre><code>sudo useradd -u 1001 -g developers abhishek</code></pre>
    </div>

    <h2>2. <code>usermod</code> Command</h2>
    <p>The <code>usermod</code> command is used to modify an existing user account.</p>
    <h3>Options</h3>
    <ul>
        <li><code>-c</code>: Change the comment (e.g., full name).</li>
        <li><code>-d</code>: Change the home directory.</li>
        <li><code>-e</code>: Change the account expiration date.</li>
        <li><code>-g</code>: Change the primary group.</li>
        <li><code>-G</code>: Add the user to additional groups.</li>
        <li><code>-l</code>: Change the login name.</li>
        <li><code>-s</code>: Change the login shell.</li>
        <li><code>-u</code>: Change the user ID (UID).</li>
        <li><code>-L</code>: Lock the user account.</li>
        <li><code>-U</code>: Unlock the user account.</li>
    </ul>
    <h3>Examples</h3>
    <div class="example">
        <p>Change a user's home directory:</p>
        <pre><code>sudo usermod -d /new/home/directory abhishek</code></pre>
    </div>
    <div class="example">
        <p>Add a user to a new group:</p>
        <pre><code>sudo usermod -aG sudo abhishek</code></pre>
    </div>
    <div class="example">
        <p>Lock a user account:</p>
        <pre><code>sudo usermod -L abhishek</code></pre>
    </div>

    <h2>3. <code>userdel</code> Command</h2>
    <p>The <code>userdel</code> command is used to delete a user account.</p>
    <h3>Options</h3>
    <ul>
        <li><code>-r</code>: Remove the user's home directory and mail spool.</li>
        <li><code>-f</code>: Force the removal of the user account.</li>
        <li><code>-Z</code>: Remove the SELinux user mapping.</li>
    </ul>
    <h3>Examples</h3>
    <div class="example">
        <p>Delete a user account and remove the home directory:</p>
        <pre><code>sudo userdel -r abhishek</code></pre>
    </div>
    <div class="example">
        <p>Forcefully delete a user account:</p>
        <pre><code>sudo userdel -f abhishek</code></pre>
    </div>
    <div class="example">
        <p>Remove the SELinux user mapping:</p>
        <pre><code>sudo userdel -Z abhishek</code></pre>
    </div>

    
    

    </main>
</body>
</html>